<head>
  <title>Todoapp</title>
  <%= csrf_meta_tags %>
  <%= csp_meta_tag %>

  <%= stylesheet_link_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
  <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
</head>

<% content_for :title, "Incomplete Tasks" %>

<h1 class="page-title">Incomplete Tasks</h1>

<div class="notifications">
  <% if notice %>
    <p class="notice"><%= notice %></p>
  <% end %>
</div>

<div class="task-controls">
  <%= link_to "New Task", new_task_path, class: "btn btn-primary" %>
  <%= link_to "Complete Tasks", completetask_tasks_path, class: "btn btn-secondary" %>
</div>

<div id="tasks">
  <% @tasks.each do |task| %>
    <div class="task">
      <%= render task %>
      <div class="task-actions">
        <%= link_to "Show This Task", task, class: "btn btn-info" %>
        <%= link_to 'Toggle Status', toggle_task_path(task), method: :get, data: { turbo: false }, class: "btn btn-warning" %>
      </div>
    </div>
  <% end %>
</div>
